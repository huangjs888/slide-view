"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{599:(t,e,n)=>{n.d(e,{Z:()=>q});var i=n(951),s=n(976),r=n(169),o=n(243),a=n(132),h=n(492),u=n(597),l=n(649),c=n(444),d=function(){function t(){(0,i.Z)(this,t),(0,l.Z)(this,"events",{}),this.events={}}return(0,s.Z)(t,[{key:"once",value:function(t,e){var n=this;this.on(t,(function i(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];e.apply(n,r),n.off(t,i)}))}},{key:"on",value:function(t,e){var n=this.events[t]||[];n.push(e),this.events[t]=n}},{key:"off",value:function(t,e){if(t)if(e){for(var n=this.events[t]||[],i=n.length;i>=0;i--)n[i]===e&&n.splice(i,1);this.events[t]=n}else this.events[t]=[];else this.events={}}},{key:"trigger",value:function(t,e){for(var n=this.events[t]||[],i=0,s=n.length;i<s;i++){var r=n[i];"function"==typeof r&&r.apply(e.currentTarget,[e,t])}}}]),t}();function p(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],r=(0,c.Z)(e,2),o=r[0],a=r[1];return Math.sqrt(Math.pow(o-i,2)+Math.pow(a-s,2))}function _(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],r=(0,c.Z)(e,2),o=r[0],a=r[1];return 180*Math.atan2(a-s,o-i)/Math.PI}function m(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],r=(0,c.Z)(e,2);return[(i+r[0])/2,(s+r[1])/2]}function v(t){return Math.pow(Math.abs(t||1),.6)*(t>0?1:-1)}function f(t,e){return t&&"string"==typeof e&&e.split(" ").forEach((function(e){return e&&t.classList.add(e)})),t}function g(t,e){return t&&Object.keys(e).forEach((function(n){if(void 0!==e[n]){var i=-1!==n.indexOf("-")?n:n.replace(/([A-Z])/g,"-$1").toLowerCase(),s="number"==typeof e[n]&&"z-index"!==i&&"opacity"!==i?"".concat(e[n],"px"):String(e[n]);t.style.setProperty(i,s)}})),t}var T="hjs-slide-view-style";var b=function(t,e,n){return"number"!=typeof t||t<n?e:t};function w(t){var e=this,n=t.touches;if(n){t.preventDefault(),t.stopImmediatePropagation();for(var i=0,s=n.length;i<s;++i){var r=n[i],o=[r.pageX,r.pageY],a=[o,o,r.identifier];this._touch0?this._touch1||a[2]===this._touch0[2]||(this._touch1=a):this._touch0=a}if(this._preventTap=!0,this._swipeTimeStamp=0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0)this.trigger("gestureStart",{currentTarget:this.element,point:[this._touch0[0],this._touch1[0]],timeStamp:Date.now(),sourceEvent:t});else{if(!this._touch0)return;this._preventTap=!1,this._swipeTimeStamp=t.timeStamp,this._longTapTimer=window.setTimeout((function(){e._preventTap=!0,e._swipeTimeStamp=0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=null,e.trigger("longTap",{currentTarget:e.element,point:e._touch0?[e._touch0[0]]:[],timeStamp:Date.now(),sourceEvent:t,waitTime:e.longTapInterval})}),this.longTapInterval),this._singleTapTimer&&this._touchFirst&&p(this._touchFirst,this._touch0[0])<this.doubleTapDistance?(clearTimeout(this._singleTapTimer),this._singleTapTimer=null,this._preventSingleTap=!0,this._preventDoubleTap=!1):(this._touchFirst=this._touch0[0],this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.trigger("touchStart",{currentTarget:this.element,point:this._touch1?[this._touch0[0],this._touch1[1]]:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})}}function Z(t){var e=t.changedTouches;if(e){t.preventDefault(),t.stopImmediatePropagation();for(var n=0,i=e.length;n<i;++n){var s=e[n],r=[s.pageX,s.pageY];this._touch0&&this._touch0[2]===s.identifier?this._touch0[1]=r:this._touch1&&this._touch1[2]===s.identifier&&(this._touch1[1]=r)}if(this._touch0&&p(this._touch0[0],this._touch0[1])>=this.touchMoveDistance||this._touch1&&p(this._touch1[0],this._touch1[1])>=this.touchMoveDistance){if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0){var o=p(this._touch0[1],this._touch1[1]),a=p(this._touch0[0],this._touch1[0]);0!==o&&0!==a&&this.trigger("pinch",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,scale:o/a});var h=_(this._touch0[1],this._touch1[1]),u=_(this._touch0[0],this._touch1[0]);this.trigger("rotate",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,angle:h+u});var l=m(this._touch0[1],this._touch1[1]),c=m(this._touch0[0],this._touch1[0]);this.trigger("multiPan",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,deltaX:l[0]-c[0],deltaY:l[1]-c[1]}),this.trigger("gestureMove",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t})}else{if(!this._touch0)return;var d=this._touch0[1][0]-this._touch0[0][0],v=this._touch0[1][1]-this._touch0[0][1];this.trigger("pan",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t,deltaX:d,deltaY:v})}this.trigger("touchMove",{currentTarget:this.element,point:this._touch1?[this._touch0[0],this._touch1[1]]:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})}}}function y(t){var e=this,n=t.changedTouches;if(n){t.stopImmediatePropagation();for(var i,s,r,o,a,h,u,l,d,_,m,v=null,f=0,g=n.length;f<g;++f){var T=n[f];this._touch0&&this._touch0[2]===T.identifier?(v=this._touch0,this._touch0=null):this._touch1&&this._touch1[2]===T.identifier&&(this._touch1=null)}if(this._touch1&&!this._touch0&&(this._touch0=this._touch1,this._touch1=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch0)this._touch1||(this._touch0[0]=this._touch0[1],this.trigger("touchStart",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})),this.trigger("gestureEnd",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t});else{if(this._preventTap||this.trigger("tap",{currentTarget:this.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t}),this._swipeTimeStamp>0&&v){var b=(m=t.timeStamp-this._swipeTimeStamp,p(v[0],v[1])/m||0);if(b>=this.swipeVelocity&&(Math.abs(v[1][0]-v[0][0])>=this.swipeDistance||Math.abs(v[1][1]-v[0][1])>=this.swipeDistance)){var w=(i=v[0],s=v[1],o=(r=(0,c.Z)(i,2))[0],a=r[1],(d=o-(u=(h=(0,c.Z)(s,2))[0]))==(_=a-(l=h[1]))?"None":Math.abs(d)>=Math.abs(_)?o-u>0?"Left":"Right":a-l>0?"Up":"Down");this.trigger("swipe",{currentTarget:this.element,point:[v[1]],timeStamp:Date.now(),sourceEvent:t,direction:w,velocity:b})}}this._preventSingleTap||(this._singleTapTimer=window.setTimeout((function(){e._singleTapTimer=null,e.trigger("singleTap",{currentTarget:e.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t,delayTime:e.doubleTapInterval})}),this.doubleTapInterval)),this._preventDoubleTap||this.trigger("doubleTap",{currentTarget:this.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t,intervalTime:this.doubleTapInterval})}this.trigger("touchEnd",{currentTarget:this.element,point:[],timeStamp:Date.now(),sourceEvent:t})}}function E(t){this.trigger("touchCancel",{currentTarget:this.element,point:[],timeStamp:Date.now(),sourceEvent:t}),y.apply(this,[t])}function S(){this._singleTapTimer&&(clearTimeout(this._singleTapTimer),this._singleTapTimer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touchFirst=null,this._touch0=null,this._touch1=null,this._preventTap=!0,this._swipeTimeStamp=0,this._preventSingleTap=!0,this._preventDoubleTap=!0}const M=function(t){(0,a.Z)(d,t);var e,n,c=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,u.Z)(e);if(n){var s=(0,u.Z)(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return(0,h.Z)(this,t)});function d(t,e){var n,s;if((0,i.Z)(this,d),n=c.call(this),(0,l.Z)((0,r.Z)(n),"longTapInterval",750),(0,l.Z)((0,r.Z)(n),"doubleTapInterval",250),(0,l.Z)((0,r.Z)(n),"doubleTapDistance",10),(0,l.Z)((0,r.Z)(n),"touchMoveDistance",3),(0,l.Z)((0,r.Z)(n),"swipeDistance",30),(0,l.Z)((0,r.Z)(n),"swipeVelocity",.3),(0,l.Z)((0,r.Z)(n),"_singleTapTimer",null),(0,l.Z)((0,r.Z)(n),"_longTapTimer",null),(0,l.Z)((0,r.Z)(n),"_preventTap",!0),(0,l.Z)((0,r.Z)(n),"_swipeTimeStamp",0),(0,l.Z)((0,r.Z)(n),"_preventSingleTap",!0),(0,l.Z)((0,r.Z)(n),"_preventDoubleTap",!0),(0,l.Z)((0,r.Z)(n),"_touchFirst",null),(0,l.Z)((0,r.Z)(n),"_touch0",null),(0,l.Z)((0,r.Z)(n),"_touch1",null),(0,l.Z)((0,r.Z)(n),"_destory",null),!((s="string"==typeof t?document.querySelector(t):t)&&s instanceof HTMLElement))throw new Error("Please pass in a valid element...");n.element=s;var o,a=e||{},h=a.longTapInterval,u=a.doubleTapInterval,p=a.doubleTapDistance,_=a.touchMoveDistance,m=a.swipeDistance,v=a.swipeVelocity;if(n.longTapInterval=b(h,750,500),n.doubleTapInterval=b(u,250,200),n.doubleTapDistance=b(p,10,1),n.touchMoveDistance=b(_,3,0),n.swipeDistance=b(m,30,0),n.swipeVelocity=b(v,.3,.01),(o=n.element)&&(navigator.maxTouchPoints||"ontouchstart"in o)){var f=w.bind((0,r.Z)(n)),g=Z.bind((0,r.Z)(n)),T=y.bind((0,r.Z)(n)),M=E.bind((0,r.Z)(n));n.element.addEventListener("touchstart",f,!1),n.element.addEventListener("touchmove",g,!1),n.element.addEventListener("touchend",T,!1),n.element.addEventListener("touchcancel",M,!1);var D=S.bind((0,r.Z)(n));window.addEventListener("scroll",D),n._destory=function(){n.element.removeEventListener("touchstart",f),n.element.removeEventListener("touchmove",g),n.element.removeEventListener("touchend",T),n.element.removeEventListener("touchcancel",M),window.removeEventListener("scroll",D)}}return n}return(0,s.Z)(d,[{key:"done",value:function(){return!!this._destory}},{key:"destory",value:function(){(0,o.Z)((0,u.Z)(d.prototype),"off",this).call(this),S.apply(this),this._destory&&(this._destory(),this._destory=null)}}]),d}(d);function D(t,e,n){n({type:"touch",point:e.point[0],currentTarget:t,sourceEvent:e})}function X(t,e,n){e.preventDefault(),n({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}function x(t,e){if(!(t&&t instanceof HTMLElement))throw new Error("Binding events require HTMLElement...");var n=function(){},i=e.start,s=e.move,r=e.end,o=e.press,a=e.longPress,h=e.doublePress,u=new M(t);if(u.done())i&&u.on("touchStart",(function(e){return function(t,e,n){var i=e.sourceEvent;if(!t.getAttribute("data-touch-identifier")){var s=i.touches[0];s&&(t.setAttribute("data-touch-identifier",s.identifier.toString()),n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e}))}}(t,e,i)})),s&&u.on("touchMove",(function(e){return function(t,e,n){for(var i=e.sourceEvent,s=null,r=0;r<i.changedTouches.length;r++){var o=i.changedTouches.item(r);if(o&&o.identifier.toString()===t.getAttribute("data-touch-identifier")){s=o;break}}s&&n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e})}(t,e,s)})),r&&u.on("touchEnd",(function(e){return function(t,e,n){for(var i=e.sourceEvent,s=null,r=0;r<i.changedTouches.length;r++){var o=i.changedTouches.item(r);if(o&&o.identifier.toString()===t.getAttribute("data-touch-identifier")){s=o;break}}s&&(t.setAttribute("data-touch-identifier",""),n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e}))}(t,e,r)})),o&&u.on("tap",(function(e){return D(t,e,o)})),a&&u.on("longTap",(function(e){return D(t,e,a)})),h&&u.on("doubleTap",(function(e){return D(t,e,h)})),n=function(){u.destory()};else{var l=null;(i||s||r)&&(l=function(e){return function(t,e,n){var i=n.start,s=n.move,r=n.end;e.preventDefault(),e.stopImmediatePropagation(),document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function e(n){n.stopImmediatePropagation(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e),"onselectstart"in document&&(document.removeEventListener("dragstart",h),document.removeEventListener("selectstart",h)),r&&r({type:"mouse",point:[n.pageX,n.pageY],currentTarget:t,sourceEvent:n})})),"onselectstart"in document&&(document.addEventListener("dragstart",h,{capture:!0,passive:!1}),document.addEventListener("selectstart",h,{capture:!0,passive:!1}));var o=e.clientX,a=e.clientY;function h(t){t.preventDefault(),t.stopImmediatePropagation()}function u(e){e.preventDefault(),e.stopImmediatePropagation();var n=e.clientX-o,i=e.clientY-a;n*n+i*i>=9&&s&&s({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}i&&i({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}(t,e,{start:i,move:s,end:r})},t.addEventListener("mousedown",l));var c=null;o&&(c=function(e){return X(t,e,o)},t.addEventListener("click",c));var d=null;a&&(d=function(e){return X(t,e,a)},t.addEventListener("contextmenu",d));var p=null;h&&(p=function(e){return X(t,e,h)},t.addEventListener("dblclick",p)),n=function(){l&&t.removeEventListener("mousedown",l),c&&t.removeEventListener("click",c),p&&t.removeEventListener("dblclick",p),d&&t.removeEventListener("contextmenu",d)}}return{element:t,destory:n}}function I(t,e){t&&t.addEventListener("transitionend",(function n(i){e(i),t.removeEventListener("transitionend",n)}))}var L=function(t,e){var n,i;if(!((n="string"==typeof t?document.querySelector(t):t)&&n instanceof HTMLElement))throw new Error("Please pass in a valid container element...");(i=document.querySelector("#".concat(T)))||((i=document.createElement("style")).id=T,i.appendChild(document.createTextNode("\n.hjs-slide-view {\n  position: relative;\n  overflow: hidden;\n}\n.hjs-slideview__left {\n  position: absolute;\n  right: 100%;\n  top: 0;\n  height: 100%;\n}\n.hjs-slideview__middle {\n  width: 100%;\n  position: relative;\n  z-index: 10;\n}\n.hjs-slideview__right {\n  position: absolute;\n  left: 100%;\n  top: 0;\n  height: 100%;\n}\n.hjs-slideview__buttons {\n  width: 100%;\n  height: 100%;\n}\n.hjs-slideview__btn__wrap {\n  position: absolute;\n  left: 0;\n  right:auto;\n  bottom: 0;\n  text-align: center;\n  width: auto;\n  height: 100%;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hjs-slideview__left .hjs-slideview__btn__wrap {\n  left:auto;\n  right: 0;\n}\n.hjs-slideview__btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n")),(document.head||document.getElementsByTagName("head")[0]).appendChild(i));var s=f(document.createElement("div"),"hjs-slide-view ".concat(e||"")),r=f(document.createElement("div"),"hjs-slideview__middle"),o=f(document.createElement("div"),"hjs-slideview__left");o.appendChild(f(document.createElement("div"),"hjs-slideview__buttons"));var a=f(document.createElement("div"),"hjs-slideview__right");return a.appendChild(f(document.createElement("div"),"hjs-slideview__buttons")),s.appendChild(o),s.appendChild(r),s.appendChild(a),n.innerHTML="",n.appendChild(s),r},C=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.duration,s=this._buttons,r=this._translateX;if(s&&s.length)for(var o=0,a=0,h=function(){var h=s[u],l=h.element,c=h.width,d=h.position,p=h.slideOut,_=0===r?0:r/Math.abs(r);if(u===t){var m=l.firstChild;g(m.firstChild,{display:e?"none":"block"}),g(m.lastChild,{display:e?"block":"none"});var v=e?r:_*(c+("left"===d?o:a));g(l,{width:e?Math.abs(r+n*_):i>0&&!p?c:"auto",transform:"translate3d(".concat(v+n*_,"px, 0, 0)"),transition:i<=0?"":"width ".concat(i,"s, transform ").concat(i,"s")}),!e&&!p&&i>0&&I(l,(function(){return g(l,{width:"auto"})}))}else u>t&&g(l,{transform:"translate3d(".concat(e?0:_*(c+("left"===d?o:a)),"px, 0, 0)"),transition:i<=0?"":"transform ".concat(i,"s")});"left"===d?o+=c:a+=c},u=s.length-1;u>=0;u--)h()},P=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.duration,s=this.element,r=this._buttons,o=this._slideRange||[0,0],a=(0,c.Z)(o,2),h=a[0],u=a[1];if(r&&r.length){g(s,{transform:"translate3d(".concat(t,"px, 0, 0)"),transition:i<=0||2===n?"":"transform ".concat(i,"s")});for(var d=0,p=0,_=r.length-1;_>=0;_--){var m,v,f,T=r[_],b=T.element,w=T.width,Z=T.lastOne,y=T.position,E=T.icon,S=b.firstChild,M=w/Math.abs("left"===y?u:h)*t,D=M+("left"===y?d:p);if(Z)g(S,E?(m={},(0,l.Z)(m,"padding-".concat(y),Math.abs(M)>w&&1===n?Math.abs(t)-w:0),(0,l.Z)(m,"transition",i<=0?"":"padding-".concat(y," ").concat(i,"s")),m):(v={},(0,l.Z)(v,"padding-".concat(y),16+(Math.abs(M)<=w?0:Math.abs(1===n?t:D)-w)),(0,l.Z)(v,"transition",i<=0?"":"padding-".concat(y," ").concat(i,"s ease ").concat(i*(e?1:-1)*("right"===y?1:-1),"s")),v)),g(b,{transform:"translate3d(".concat(1===n?t:D,"px, 0, 0)"),transition:i<=0?"":"transform ".concat(i,"s")});else E||g(S,(f={},(0,l.Z)(f,"padding-".concat(y),16+(Math.abs(M)<=w?0:Math.abs(D)-w)),(0,l.Z)(f,"transition",i<=0||2===n?"":"padding-".concat(y," ").concat(i,"s ease ").concat(i*(e?1:-1)*("right"===y?1:-1),"s")),f)),g(b,{transform:"translate3d(".concat(D,"px, 0, 0)"),transition:i<=0||2===n?"":"transform ".concat(i,"s")});"left"===y?d+=M:p+=M}}},k=function(t){this._buttons&&!this.disable&&(this._isMoving=!0,this._startTX=this._translateX,this._startPoint=t.point,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0)},B=function(t){if(this._buttons&&!this.disable&&this._isMoving&&this._startPoint){var e=t.point[0]-this._startPoint[0],n=t.point[1]-this._startPoint[1];if(0===this._slideAngle&&(this._slideAngle=Math.abs(e)-Math.abs(n)),!(this._slideAngle<0)){var i=0,s=0,r=this._startTX+e,o=this._slideRange||[0,0],a=(0,c.Z)(o,2),h=a[0],u=a[1];if(r<=h)if(0===h)this._startPoint=t.point,this._startTX=this._translateX,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0,i=0;else if(this.fullSlide){var l=this.element.getBoundingClientRect().width,d=-Math.max(.75*l,Math.abs(h)),p=t.sourceEvent instanceof MouseEvent?t.sourceEvent.timeStamp:t.sourceEvent.sourceEvent.timeStamp;r<=d?(1!==this._slideStatus&&(this._timeStamp=p,this._slideStatus=1),i=(this.rebounce?v(r-d):0)-.95*l,s=Math.max(0,this.duration-(p-this._timeStamp)/1e3)):(0===this._slideStatus?this._timeStamp=0:1===this._slideStatus&&(this._timeStamp=p,this._slideStatus=2),i=r,s=Math.max(0,this.duration/2-(p-this._timeStamp)/1e3))}else i=(this.rebounce?v(r-Math.min(h,this._startTX)):0)+Math.min(h,this._startTX);else if(r<u)i=r,this._slideStatus=0,this._timeStamp=0;else if(0===u)this._startPoint=t.point,this._startTX=this._translateX,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0,i=0;else if(this.fullSlide){var _=this.element.getBoundingClientRect().width,m=Math.max(.75*_,Math.abs(u)),f=t.sourceEvent instanceof MouseEvent?t.sourceEvent.timeStamp:t.sourceEvent.sourceEvent.timeStamp;r>=m?(1!==this._slideStatus&&(this._timeStamp=f,this._slideStatus=1),i=(this.rebounce?v(r-m):0)+.95*_,s=Math.max(0,this.duration-(f-this._timeStamp)/1e3)):(0===this._slideStatus?this._timeStamp=0:1===this._slideStatus&&(this._timeStamp=f,this._slideStatus=2),i=r,s=Math.max(0,this.duration/2-(f-this._timeStamp)/1e3))}else i=(this.rebounce?v(r-Math.max(u,this._startTX)):0)+Math.max(u,this._startTX);-1!==this._confirmIndex&&(C.apply(this,[this._confirmIndex,!1,0,0]),this._confirmIndex=-1);var g=i>this._translateX;return this._translateX=i,P.apply(this,[i,g,this._slideStatus,s]),!1}}},R=function(t){var e=this;if(this._buttons&&!this.disable&&this._isMoving&&!(this._slideAngle<0)&&this._startPoint){if(this.fullSlide&&1===this._slideStatus){var n=this._buttons.findIndex((function(t){var n=t.lastOne,i=t.position;return n&&(e._translateX>0&&"left"===i||e._translateX<0&&"right"===i)}));N.apply(this,[t,n])}else 0===this._translateX||p(this._startPoint,t.point)<3||this._translateX<0&&(t.point[0]-this._startPoint[0]>=0||this._translateX>-this.throttle)||this._translateX>0&&(t.point[0]-this._startPoint[0]<=0||this._translateX<this.throttle)?this.hideButton():this.showButton(this._translateX>0?"left":"right");this._isMoving=!1,this._startTX=0,this._startPoint=[0,0],this._slideAngle=0,this._slideStatus=0,this._timeStamp=0}},j=function(t){0===this._translateX&&this.trigger("press",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},A=function(t){0===this._translateX&&this.trigger("longPress",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},O=function(t){0===this._translateX&&this.trigger("doublePress",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},Y=function(t){var e=this;if(0!==this._translateX&&this._buttons){for(var n=t.sourceEvent,i=t.currentTarget,s=n instanceof MouseEvent?n.target:n.sourceEvent.target;s!==i&&!s.getAttribute("data-index");)s=s.parentNode;var r=+(s.getAttribute("data-index")||-1);if(r>=0&&this._buttons[r]){var o=this._buttons[r],a=o.lastOne,h=o.confirm,u=o.slideOut,l=o.data;if(this.fullSlide&&a)return void N.apply(this,[t,r,s]);var c="buttonPress";this._confirmIndex!==r&&h?(this.rebounce?(C.apply(this,[r,!0,H.REBOUNCE_SIZE]),I(this._buttons[r].element,(function(){C.apply(e,[r,!0])}))):C.apply(this,[r,!0]),this._confirmIndex=r,c="buttonConfirm"):u?this.hideButton():(C.apply(this,[r,!1]),this._confirmIndex=-1),this.trigger(c,{index:r,data:l,currentTarget:s,timeStamp:Date.now(),sourceEvent:t})}}},N=function(t,e,n){if(0!==this._translateX&&this._buttons&&this._buttons[e]){var i="buttonPress",s=this._buttons[e],r=s.element,o=s.confirm,a=s.slideOut,h=s.data;if(this._confirmIndex===e)a?this.hideButton():(this.showButton(this._translateX>0?"left":"right"),this._confirmIndex=-1);else{var u=(this._translateX>0?1:-1)*this.element.getBoundingClientRect().width,l=this._translateX<u;this._translateX=u,P.apply(this,[u,l,1]),o&&(i="buttonConfirm",this._confirmIndex=e)}this.trigger(i,{index:e,data:h,currentTarget:n||r,timeStamp:Date.now(),sourceEvent:t})}},H=function(t){(0,a.Z)(p,t);var e,n,d=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,u.Z)(e);if(n){var s=(0,u.Z)(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return(0,h.Z)(this,t)});function p(t){var e;(0,i.Z)(this,p),e=d.call(this),(0,l.Z)((0,r.Z)(e),"disable",!1),(0,l.Z)((0,r.Z)(e),"duration",.4),(0,l.Z)((0,r.Z)(e),"throttle",60),(0,l.Z)((0,r.Z)(e),"rebounce",!0),(0,l.Z)((0,r.Z)(e),"fullSlide",!1),(0,l.Z)((0,r.Z)(e),"_shown",!1),(0,l.Z)((0,r.Z)(e),"_destory",!1),(0,l.Z)((0,r.Z)(e),"_confirmIndex",-1),(0,l.Z)((0,r.Z)(e),"_translateX",0),(0,l.Z)((0,r.Z)(e),"_slideAngle",0),(0,l.Z)((0,r.Z)(e),"_slideStatus",0),(0,l.Z)((0,r.Z)(e),"_slideRange",null),(0,l.Z)((0,r.Z)(e),"_startPoint",null),(0,l.Z)((0,r.Z)(e),"_startTX",0),(0,l.Z)((0,r.Z)(e),"_timeStamp",0),(0,l.Z)((0,r.Z)(e),"_isMoving",!1),(0,l.Z)((0,r.Z)(e),"_buttons",null),(0,l.Z)((0,r.Z)(e),"_agents",null);var n=t.container,s=t.className,o=t.content,a=t.buttons,h=t.duration,u=t.throttle,c=t.disable,_=void 0!==c&&c,m=t.rebounce,v=void 0===m||m,f=t.fullSlide,g=void 0!==f&&f;return e.element=L(n,s),e._agents=[x(e.element,{start:k.bind((0,r.Z)(e)),move:B.bind((0,r.Z)(e)),end:R.bind((0,r.Z)(e)),press:j.bind((0,r.Z)(e)),longPress:A.bind((0,r.Z)(e)),doublePress:O.bind((0,r.Z)(e))})],e.setContent(o),e.setButtons(a),e._destory=!1,e.disable=_||!1,e.duration=(h||400)/1e3,e.throttle=u||40,e.rebounce=v,e.fullSlide=g,e}return(0,s.Z)(p,[{key:"setDisable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.disable=t)}},{key:"setRebounce",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.rebounce=t)}},{key:"setDuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._destory||(this.duration=t/1e3)}},{key:"setThrottle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._destory||(this.throttle=t)}},{key:"setFullSlide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.fullSlide=t)}},{key:"setButtons",value:function(t){var e=this;if(!this._destory){var n=0===this._translateX?null:this._translateX>0?"left":"right";this.hideButton().then((function(){var i,s,r=null===(i=e.element.previousSibling)||void 0===i?void 0:i.firstChild;r.innerHTML="",e._agents&&!e._agents[1]&&(e._agents[1]=x(r,{press:Y.bind(e)}));var o=null===(s=e.element.nextSibling)||void 0===s?void 0:s.firstChild;o.innerHTML="",e._agents&&!e._agents[2]&&(e._agents[2]=x(o,{press:Y.bind(e)}));var a=0,h=0,u=-1,l=-1;e._buttons=(t||[]).map((function(t,e){var n=t.className,i=t.icon,s=t.width,c=t.height,d=t.text,p=t.confirmText,_=t.color,m=t.background,v=t.position,T=void 0===v?"right":v,b=t.slideOut,w=void 0===b||b,Z=t.data,y=f(document.createElement("div"),"hjs-slideview__btn__wrap ".concat(n||""));y.setAttribute("data-index",String(e));var E=g(f(document.createElement("div"),"hjs-slideview__btn"),{color:_,background:m,width:s||"100%",height:c||"100%",padding:i?0:"0 16px",margin:i?"0 10px":0,borderRadius:i?c?("string"==typeof c?parseInt(c,10):c)/2:"50%":0});if(i){var S=i.src,M=i.className,D=i.width,X=i.height;if(S){var x=document.createElement("img");x.src=S,"string"==typeof D?x.width=parseInt(D,10):"number"==typeof D&&(x.width=D),"string"==typeof X?x.height=parseInt(X,10):"number"==typeof X&&(x.height=X),E.appendChild(f(x,M||""))}else E.appendChild(g(f(document.createElement("i"),M||""),{width:s,height:c}))}else{var I=document.createElement("span");if(I.innerText=String(d),E.appendChild(I),p){var L=document.createElement("span");L.innerText=String(p),g(L,{display:"none"}),E.appendChild(L)}}y.appendChild(E),"left"===T?r.appendChild(y):o.appendChild(y);var C=y.getBoundingClientRect().width;return"left"===T?(a+=C,u=e):(h+=C,l=e),{element:y,width:C,position:T,slideOut:w,icon:!!i,confirm:!!p,lastOne:!1,data:Z}})),-1!==u&&(e._buttons[u].lastOne=!0),-1!==l&&(e._buttons[l].lastOne=!0),e._slideRange=[-h,a],n&&e.showButton(n)}))}}},{key:"setContent",value:function(t){var e;this._destory||(e="string"==typeof t?document.querySelector(t):t)&&(this.element.innerHTML="",this.element.appendChild(e))}},{key:"hideButton",value:function(){var t=this;return new Promise((function(e){if(!t._destory&&t._buttons){if(0===t._translateX&&t._shown)return e(),t.trigger("hide",{currentTarget:t.element,timeStamp:Date.now(),sourceEvent:null}),void(t._shown=!1);var n=t._translateX<0;t._translateX=0,P.apply(t,[0,n,0]),I(t.element,(function(){e(),-1!==t._confirmIndex&&(C.apply(t,[t._confirmIndex,!1]),t._confirmIndex=-1),t._shown&&(t.trigger("hide",{currentTarget:t.element,timeStamp:Date.now(),sourceEvent:null}),t._shown=!1)}))}else e()}))}},{key:"showButton",value:function(t){var e=this;return new Promise((function(n){if(e._destory)n();else{var i=e._slideRange||[0,0],s=(0,c.Z)(i,2),r=s[0],o=s[1],a=0===r?"left":0===o?"right":t,h="left"===a?o:r;if(e._translateX===h&&!e._shown)return n(),e.trigger("show",{currentTarget:e.element,timeStamp:Date.now(),sourceEvent:null}),void(e._shown=!0);var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=h+t*("left"===a?1:-1),s=i>e._translateX;e._translateX=i,P.apply(e,[i,s,0]),t||I(e.element,(function(){n(),e._shown||(e.trigger("show",{currentTarget:e.element,timeStamp:Date.now(),sourceEvent:null}),e._shown=!0)}))};e.rebounce&&Math.abs(e._translateX)<Math.abs(h)?(u(p.REBOUNCE_SIZE),I(e.element,(function(){return u()}))):u()}}))}},{key:"toggleButton",value:function(t){if(!this._destory)return 0===this._translateX?this.showButton(t):this.hideButton()}},{key:"destory",value:function(){var t,e;(0,o.Z)((0,u.Z)(p.prototype),"off",this).call(this),null===(t=this._agents)||void 0===t||t.forEach((function(t){return t&&t.destory()})),this._agents=null,this._destory=!0,this._buttons=null,this._slideRange=null,this._startPoint=null;var n=this.element.parentNode;null===(e=n.parentNode)||void 0===e||e.removeChild(n)}}]),p}(d);(0,l.Z)(H,"REBOUNCE_SIZE",12);const q=H}}]);
//# sourceMappingURL=lib.e54fce78.js.map