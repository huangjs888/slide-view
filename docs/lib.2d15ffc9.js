"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{599:(t,e,n)=>{n.d(e,{Z:()=>F});var i=n(951),s=n(976),o=n(169),r=n(243),a=n(132),h=n(492),l=n(597),u=n(649),c=n(444),d=function(){function t(){(0,i.Z)(this,t),(0,u.Z)(this,"events",{}),this.events={}}return(0,s.Z)(t,[{key:"one",value:function(t,e,n){var i=this,s="function"==typeof e?function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];e.apply(i,r),i.off(t,s,n)}:e;this.on(t,s,n)}},{key:"on",value:function(t,e,n){var i=this.events[t]||{pool:[],single:-1};if("function"==typeof e)if(n)-1===i.single?i.single=i.pool.push(e)-1:i.pool[i.single]=e;else{for(var s=!0,o=0,r=i.pool.length;o<r;o++)if(i.pool[o]===e&&o!==i.single){s=!1;break}s&&i.pool.push(e)}else n&&-1!==i.single&&(i.pool.splice(i.single,1),i.single=-1);this.events[t]=i}},{key:"off",value:function(t,e,n){if(void 0===t)this.events={};else if(void 0===e)delete this.events[t];else if(n){var i=this.events[t];i&&-1!==i.single&&(i.pool.splice(i.single,1),i.single=-1)}else{var s=this.events[t];if(s)for(var o=s.pool.length-1;o>=0;o--)if(s.pool[o]===e&&o!==s.single){s.pool.splice(o,1);break}}}},{key:"trigger",value:function(t,e){var n=this.events[t];if(n)for(var i=0,s=n.pool.length;i<s;i++){var o=n.pool[i];if("function"==typeof o&&!1===o.apply(e.currentTarget,[e,t]))break}}}]),t}();function p(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],o=(0,c.Z)(e,2),r=o[0],a=o[1];return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))}function m(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],o=(0,c.Z)(e,2),r=o[0],a=o[1];return 180*Math.atan2(a-s,r-i)/Math.PI}function _(t,e){var n=(0,c.Z)(t,2),i=n[0],s=n[1],o=(0,c.Z)(e,2);return[(i+o[0])/2,(s+o[1])/2]}function v(t){return Math.pow(Math.abs(t||1),.6)*(t>0?1:-1)}function f(t,e){return t&&"string"==typeof e&&e.split(" ").forEach((function(e){return e&&t.classList.add(e)})),t}function g(t,e){return t&&Object.keys(e).forEach((function(n){if(void 0!==e[n]){var i=-1!==n.indexOf("-")?n:n.replace(/([A-Z])/g,"-$1").toLowerCase(),s="number"==typeof e[n]&&"z-index"!==i&&"opacity"!==i?"".concat(e[n],"px"):String(e[n]);t.style.setProperty(i,s)}})),t}var T="hjs-slide-view-style";var b=function(t,e,n){return"number"!=typeof t||t<n?e:t};function w(t){var e=this,n=t.touches;if(n){t.preventDefault(),t.stopImmediatePropagation();for(var i=0,s=n.length;i<s;++i){var o=n[i],r=[o.pageX,o.pageY],a=[r,r,o.identifier];this._touch0?this._touch1||a[2]===this._touch0[2]||(this._touch1=a):this._touch0=a}if(this._preventTap=!0,this._swipeTimeStamp=0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0)this.trigger("gestureStart",{currentTarget:this.element,point:[this._touch0[0],this._touch1[0]],timeStamp:Date.now(),sourceEvent:t});else{if(!this._touch0)return;this._preventTap=!1,this._swipeTimeStamp=t.timeStamp,this._longTapTimer=window.setTimeout((function(){e._preventTap=!0,e._swipeTimeStamp=0,e._preventSingleTap=!0,e._preventDoubleTap=!0,e._longTapTimer=null,e.trigger("longTap",{currentTarget:e.element,point:e._touch0?[e._touch0[0]]:[],timeStamp:Date.now(),sourceEvent:t,waitTime:e.longTapInterval})}),this.longTapInterval),this._singleTapTimer&&this._touchFirst&&p(this._touchFirst,this._touch0[0])<this.doubleTapDistance?(clearTimeout(this._singleTapTimer),this._singleTapTimer=null,this._preventSingleTap=!0,this._preventDoubleTap=!1):(this._touchFirst=this._touch0[0],this._preventSingleTap=!1,this._preventDoubleTap=!0)}this.trigger("touchStart",{currentTarget:this.element,point:this._touch1?[this._touch0[0],this._touch1[1]]:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})}}function y(t){var e=t.changedTouches;if(e){t.preventDefault(),t.stopImmediatePropagation();for(var n=0,i=e.length;n<i;++n){var s=e[n],o=[s.pageX,s.pageY];this._touch0&&this._touch0[2]===s.identifier?this._touch0[1]=o:this._touch1&&this._touch1[2]===s.identifier&&(this._touch1[1]=o)}if(this._touch0&&p(this._touch0[0],this._touch0[1])>=this.touchMoveDistance||this._touch1&&p(this._touch1[0],this._touch1[1])>=this.touchMoveDistance){if(this._preventTap=!0,this._preventSingleTap=!0,this._preventDoubleTap=!0,this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch1&&this._touch0){var r=p(this._touch0[1],this._touch1[1]),a=p(this._touch0[0],this._touch1[0]);0!==r&&0!==a&&this.trigger("pinch",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,scale:r/a});var h=m(this._touch0[1],this._touch1[1]),l=m(this._touch0[0],this._touch1[0]);this.trigger("rotate",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,angle:h+l});var u=_(this._touch0[1],this._touch1[1]),c=_(this._touch0[0],this._touch1[0]);this.trigger("multiPan",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t,deltaX:u[0]-c[0],deltaY:u[1]-c[1]}),this.trigger("gestureMove",{currentTarget:this.element,point:[this._touch0[0],this._touch1[1]],timeStamp:Date.now(),sourceEvent:t})}else{if(!this._touch0)return;var d=this._touch0[1][0]-this._touch0[0][0],v=this._touch0[1][1]-this._touch0[0][1];this.trigger("pan",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t,deltaX:d,deltaY:v})}this.trigger("touchMove",{currentTarget:this.element,point:this._touch1?[this._touch0[0],this._touch1[1]]:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})}}}function Z(t){var e=this,n=t.changedTouches;if(n){t.stopImmediatePropagation();for(var i,s,o,r,a,h,l,u,d,m,_,v=null,f=0,g=n.length;f<g;++f){var T=n[f];this._touch0&&this._touch0[2]===T.identifier?(v=this._touch0,this._touch0=null):this._touch1&&this._touch1[2]===T.identifier&&(this._touch1=null)}if(this._touch1&&!this._touch0&&(this._touch0=this._touch1,this._touch1=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touch0)this._touch1||(this._touch0[0]=this._touch0[1],this.trigger("touchStart",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t})),this.trigger("gestureEnd",{currentTarget:this.element,point:[this._touch0[0]],timeStamp:Date.now(),sourceEvent:t});else{if(this._preventTap||this.trigger("tap",{currentTarget:this.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t}),this._swipeTimeStamp>0&&v){var b=(_=t.timeStamp-this._swipeTimeStamp,p(v[0],v[1])/_||0);if(b>=this.swipeVelocity&&(Math.abs(v[1][0]-v[0][0])>=this.swipeDistance||Math.abs(v[1][1]-v[0][1])>=this.swipeDistance)){var w=(i=v[0],s=v[1],r=(o=(0,c.Z)(i,2))[0],a=o[1],(d=r-(l=(h=(0,c.Z)(s,2))[0]))==(m=a-(u=h[1]))?"None":Math.abs(d)>=Math.abs(m)?r-l>0?"Left":"Right":a-u>0?"Up":"Down");this.trigger("swipe",{currentTarget:this.element,point:[v[1]],timeStamp:Date.now(),sourceEvent:t,direction:w,velocity:b})}}this._preventSingleTap||(this._singleTapTimer=window.setTimeout((function(){e._singleTapTimer=null,e.trigger("singleTap",{currentTarget:e.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t,delayTime:e.doubleTapInterval})}),this.doubleTapInterval)),this._preventDoubleTap||this.trigger("doubleTap",{currentTarget:this.element,point:v?[v[1]]:[],timeStamp:Date.now(),sourceEvent:t,intervalTime:this.doubleTapInterval})}this.trigger("touchEnd",{currentTarget:this.element,point:[],timeStamp:Date.now(),sourceEvent:t})}}function E(t){this.trigger("touchCancel",{currentTarget:this.element,point:[],timeStamp:Date.now(),sourceEvent:t}),Z.apply(this,[t])}function S(){this._singleTapTimer&&(clearTimeout(this._singleTapTimer),this._singleTapTimer=null),this._longTapTimer&&(clearTimeout(this._longTapTimer),this._longTapTimer=null),this._touchFirst=null,this._touch0=null,this._touch1=null,this._preventTap=!0,this._swipeTimeStamp=0,this._preventSingleTap=!0,this._preventDoubleTap=!0}const x=function(t){(0,a.Z)(d,t);var e,n,c=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,l.Z)(e);if(n){var s=(0,l.Z)(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return(0,h.Z)(this,t)});function d(t,e){var n,s;if((0,i.Z)(this,d),n=c.call(this),(0,u.Z)((0,o.Z)(n),"longTapInterval",750),(0,u.Z)((0,o.Z)(n),"doubleTapInterval",250),(0,u.Z)((0,o.Z)(n),"doubleTapDistance",10),(0,u.Z)((0,o.Z)(n),"touchMoveDistance",3),(0,u.Z)((0,o.Z)(n),"swipeDistance",30),(0,u.Z)((0,o.Z)(n),"swipeVelocity",.3),(0,u.Z)((0,o.Z)(n),"_singleTapTimer",null),(0,u.Z)((0,o.Z)(n),"_longTapTimer",null),(0,u.Z)((0,o.Z)(n),"_preventTap",!0),(0,u.Z)((0,o.Z)(n),"_swipeTimeStamp",0),(0,u.Z)((0,o.Z)(n),"_preventSingleTap",!0),(0,u.Z)((0,o.Z)(n),"_preventDoubleTap",!0),(0,u.Z)((0,o.Z)(n),"_touchFirst",null),(0,u.Z)((0,o.Z)(n),"_touch0",null),(0,u.Z)((0,o.Z)(n),"_touch1",null),(0,u.Z)((0,o.Z)(n),"_destory",null),!((s="string"==typeof t?document.querySelector(t):t)&&s instanceof HTMLElement))throw new Error("Please pass in a valid element...");n.element=s;var r,a=e||{},h=a.longTapInterval,l=a.doubleTapInterval,p=a.doubleTapDistance,m=a.touchMoveDistance,_=a.swipeDistance,v=a.swipeVelocity;if(n.longTapInterval=b(h,750,500),n.doubleTapInterval=b(l,250,200),n.doubleTapDistance=b(p,10,1),n.touchMoveDistance=b(m,3,0),n.swipeDistance=b(_,30,0),n.swipeVelocity=b(v,.3,.01),(r=n.element)&&(navigator.maxTouchPoints||"ontouchstart"in r)){var f=w.bind((0,o.Z)(n)),g=y.bind((0,o.Z)(n)),T=Z.bind((0,o.Z)(n)),x=E.bind((0,o.Z)(n));n.element.addEventListener("touchstart",f,!1),n.element.addEventListener("touchmove",g,!1),n.element.addEventListener("touchend",T,!1),n.element.addEventListener("touchcancel",x,!1);var M=S.bind((0,o.Z)(n));window.addEventListener("scroll",M),n._destory=function(){n.element.removeEventListener("touchstart",f),n.element.removeEventListener("touchmove",g),n.element.removeEventListener("touchend",T),n.element.removeEventListener("touchcancel",x),window.removeEventListener("scroll",M)}}return n}return(0,s.Z)(d,[{key:"done",value:function(){return!!this._destory}},{key:"destory",value:function(){(0,r.Z)((0,l.Z)(d.prototype),"off",this).call(this),S.apply(this),this._destory&&(this._destory(),this._destory=null)}}]),d}(d);function M(t,e,n){n({type:"touch",point:e.point[0],currentTarget:t,sourceEvent:e})}function D(t,e,n){e.preventDefault(),n({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}function X(t,e){if(!(t&&t instanceof HTMLElement))throw new Error("Binding events require HTMLElement...");var n=function(){},i=e.start,s=e.move,o=e.end,r=e.press,a=e.longPress,h=e.doublePress,l=new x(t);if(l.done())i&&l.on("touchStart",(function(e){return function(t,e,n){var i=e.sourceEvent;if(!t.getAttribute("data-touch-identifier")){var s=i.touches[0];s&&(t.setAttribute("data-touch-identifier",s.identifier.toString()),n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e}))}}(t,e,i)})),s&&l.on("touchMove",(function(e){return function(t,e,n){for(var i=e.sourceEvent,s=null,o=0;o<i.changedTouches.length;o++){var r=i.changedTouches.item(o);if(r&&r.identifier.toString()===t.getAttribute("data-touch-identifier")){s=r;break}}s&&n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e})}(t,e,s)})),o&&l.on("touchEnd",(function(e){return function(t,e,n){for(var i=e.sourceEvent,s=null,o=0;o<i.changedTouches.length;o++){var r=i.changedTouches.item(o);if(r&&r.identifier.toString()===t.getAttribute("data-touch-identifier")){s=r;break}}s&&(t.setAttribute("data-touch-identifier",""),n({type:"touch",currentTarget:t,point:[s.pageX,s.pageY],sourceEvent:e}))}(t,e,o)})),r&&l.on("tap",(function(e){return M(t,e,r)})),a&&l.on("longTap",(function(e){return M(t,e,a)})),h&&l.on("doubleTap",(function(e){return M(t,e,h)})),n=function(){l.destory()};else{var u=null;(i||s||o)&&(u=function(e){return function(t,e,n){var i=n.start,s=n.move,o=n.end;e.preventDefault(),e.stopImmediatePropagation(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function e(n){n.stopImmediatePropagation(),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e),"onselectstart"in document&&(document.removeEventListener("dragstart",h),document.removeEventListener("selectstart",h)),o&&o({type:"mouse",point:[n.pageX,n.pageY],currentTarget:t,sourceEvent:n})})),"onselectstart"in document&&(document.addEventListener("dragstart",h,{capture:!0,passive:!1}),document.addEventListener("selectstart",h,{capture:!0,passive:!1}));var r=e.clientX,a=e.clientY;function h(t){t.preventDefault(),t.stopImmediatePropagation()}function l(e){e.preventDefault(),e.stopImmediatePropagation();var n=e.clientX-r,i=e.clientY-a;n*n+i*i>=9&&s&&s({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}i&&i({type:"mouse",point:[e.pageX,e.pageY],currentTarget:t,sourceEvent:e})}(t,e,{start:i,move:s,end:o})},t.addEventListener("mousedown",u));var c=null;r&&(c=function(e){return D(t,e,r)},t.addEventListener("click",c));var d=null;a&&(d=function(e){return D(t,e,a)},t.addEventListener("contextmenu",d));var p=null;h&&(p=function(e){return D(t,e,h)},t.addEventListener("dblclick",p)),n=function(){u&&t.removeEventListener("mousedown",u),c&&t.removeEventListener("click",c),p&&t.removeEventListener("dblclick",p),d&&t.removeEventListener("contextmenu",d)}}return{element:t,destory:n}}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"transform";return t&&(t.ontransitionend=function(i){i.stopImmediatePropagation(),i.target===t&&i.propertyName===n&&(t.ontransitionend=null,e(i))}),t}var I=function(t,e){var n,i;try{n="string"==typeof t?document.querySelector(t):t}catch(t){n=null}if(!(n&&n instanceof HTMLElement))throw new Error("Please pass in a valid container element...");(i=document.querySelector("#".concat(T)))||((i=document.createElement("style")).id=T,i.appendChild(document.createTextNode("\n.hjs-slide-view {\n  position: relative;\n  overflow: hidden;\n}\n.hjs-slideview__left {\n  position: absolute;\n  right: 100%;\n  top: 0;\n  height: 100%;\n}\n.hjs-slideview__middle {\n  width: 100%;\n  position: relative;\n  z-index: 10;\n}\n.hjs-slideview__right {\n  position: absolute;\n  left: 100%;\n  top: 0;\n  height: 100%;\n}\n.hjs-slideview__buttons {\n  width: 100%;\n  height: 100%;\n}\n.hjs-slideview__btn__wrap {\n  position: absolute;\n  left: 0;\n  right: auto;\n  bottom: 0;\n  text-align: center;\n  width: auto;\n  height: 100%;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hjs-slideview__left .hjs-slideview__btn__wrap {\n  left: auto;\n  right: 0;\n}\n.hjs-slideview__btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  overflow: hidden;\n}\n.hjs-slideview__btn > span {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n")),(document.head||document.getElementsByTagName("head")[0]).appendChild(i));var s=f(document.createElement("div"),"hjs-slide-view ".concat(e||"")),o=f(document.createElement("div"),"hjs-slideview__middle"),r=f(document.createElement("div"),"hjs-slideview__left");r.appendChild(f(document.createElement("div"),"hjs-slideview__buttons"));var a=f(document.createElement("div"),"hjs-slideview__right");return a.appendChild(f(document.createElement("div"),"hjs-slideview__buttons")),s.appendChild(r),s.appendChild(o),s.appendChild(a),n.innerHTML="",n.appendChild(s),o},C=function(t,e,n,i,s){var o=s.text,r=s.otext,a=s.src,h=s.osrc,l=s.cls,u=s.ocls,c=void 0===u?"":u;n?(h&&(t.firstChild.src=e&&a||h),f(function(t,e){return t&&"string"==typeof e&&e.split(" ").forEach((function(e){return e&&t.classList.remove(e)})),t}(t,e?c:l||c),e&&l||c)):(t.firstChild.innerText=String(e&&o||r),g(t,{justifyContent:e?"center":"left"===i?"flex-end":"flex-start"}))},L=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.duration,s=this.element,o=this._buttons,r=this._translateX;o&&o.length&&window.requestAnimationFrame((function(){for(var a={left:0,right:0},h=o.length-1;h>=0;h--){var l=o[h],u=l.element,c=l.width,d=l.icon,p=l.position,m=l.indexPos,_=l.confirm,v=0===r?0:r/Math.abs(r),f="first-last"===m?2:1;if(h===t){var T;T=e?f*r+n*v:(c+a[p])*v,g(u,{width:e?Math.abs(T):c,transform:"translate3d(".concat(T,"px, 0, 0)"),transition:i<=0?"":"width ".concat(i,"s, transform ").concat(i,"s")}),2===f&&g(s,{transform:"translate3d(".concat(e?f*r:r,"px, 0, 0)"),transition:i<=0?"":"transform ".concat(i,"s")});var b=u.firstChild;d&&g(b,{width:e?"100%":c-20,transition:i<=0?"":"width ".concat(i,"s")}),_&&C(b,e,d,p,_)}else if(h>t){var w=0;e||(w=(c+a[p])*v),g(u,{transform:"translate3d(".concat(w,"px, 0, 0)"),transition:i<=0?"":"transform ".concat(i,"s")})}a[p]+=c}}))},k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.duration,i=this.element,s=this._buttons,o=this._slideRange||[0,0],r=(0,c.Z)(o,2),a=r[0],h=r[1];s&&s.length&&window.requestAnimationFrame((function(){g(i,{transform:"translate3d(".concat(t,"px, 0, 0)"),transition:n<=0||2===e?"":"transform ".concat(n,"s")});for(var o={left:0,right:0},r=s.length-1;r>=0;r--){var l,c=s[r],d=c.element,p=c.width,m=c.indexPos,_=c.position,v=c.icon,f=p/Math.abs("left"===_?h:a)*t,T=f+o[_],b=Math.max(Math.abs(f),p);if("last"===m||"first-last"===m)v&&g(d.firstChild,(l={},(0,u.Z)(l,"padding-".concat(_),(1===e?Math.abs(t):p)-p),(0,u.Z)(l,"transition",n<=0?"":"padding-".concat(_," ").concat(n,"s")),l)),g(d,{width:(1===e?Math.abs(t):b)+(v?0:1),transform:"translate3d(".concat(1===e?t:T,"px, 0, 0)"),transition:n<=0?"":"transform ".concat(n,"s, width ").concat(n,"s")});else g(d,{width:b+(v?0:1),transform:"translate3d(".concat(T,"px, 0, 0)"),transition:n<=0||2===e?"":"transform ".concat(n,"s, width ").concat(n,"s")});o[_]+=f}}))},B=function(t){this._buttons&&!this.disable&&(this._isMoving=!0,this._startTX=this._translateX,this._startPoint=t.point,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0)},R=function(t){if(this._buttons&&!this.disable&&this._isMoving&&this._startPoint){var e=t.point[0]-this._startPoint[0],n=t.point[1]-this._startPoint[1];if(0===this._slideAngle&&(this._slideAngle=Math.abs(e)-Math.abs(n)),!(this._slideAngle<0)){var i=0,s=0,o=this._startTX+e,r=this._slideRange||[0,0],a=(0,c.Z)(r,2),h=a[0],l=a[1],u=this.element.getBoundingClientRect().width;if(o<=h)if(0===h)this._startPoint=t.point,this._startTX=this._translateX,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0,i=0;else if(this.fullSlide){var d=-Math.max(.75*u,Math.abs(h)),p=t.sourceEvent instanceof MouseEvent?t.sourceEvent.timeStamp:t.sourceEvent.sourceEvent.timeStamp;o<=d?(1!==this._slideStatus&&(this._timeStamp=p,this._slideStatus=1),i=(this.rebounce?v(o-d):0)-.95*u,s=Math.max(0,this.duration-(p-this._timeStamp)/1e3)):(0===this._slideStatus?this._timeStamp=0:1===this._slideStatus&&(this._timeStamp=p,this._slideStatus=2),i=o,s=Math.max(0,this.duration/2-(p-this._timeStamp)/1e3))}else i=(this.rebounce?v(o-Math.min(h,this._startTX)):0)+Math.min(h,this._startTX);else if(o<l)i=o,this._slideStatus=0,this._timeStamp=0;else if(0===l)this._startPoint=t.point,this._startTX=this._translateX,this._slideAngle=0,this._slideStatus=0,this._timeStamp=0,i=0;else if(this.fullSlide){var m=Math.max(.75*u,Math.abs(l)),_=t.sourceEvent instanceof MouseEvent?t.sourceEvent.timeStamp:t.sourceEvent.sourceEvent.timeStamp;o>=m?(1!==this._slideStatus&&(this._timeStamp=_,this._slideStatus=1),i=(this.rebounce?v(o-m):0)+.95*u,s=Math.max(0,this.duration-(_-this._timeStamp)/1e3)):(0===this._slideStatus?this._timeStamp=0:1===this._slideStatus&&(this._timeStamp=_,this._slideStatus=2),i=o,s=Math.max(0,this.duration/2-(_-this._timeStamp)/1e3))}else i=(this.rebounce?v(o-Math.max(l,this._startTX)):0)+Math.max(l,this._startTX);return-1!==this._confirmIndex&&(L.apply(this,[this._confirmIndex,!1,0,0]),this._confirmIndex=-1),i=(i>0?1:-1)*Math.min(u,Math.abs(i)),this._translateX=i,k.apply(this,[i,this._slideStatus,s]),!1}}},j=function(t){var e=this;if(this._buttons&&!this.disable&&this._isMoving&&!(this._slideAngle<0)&&this._startPoint){if(this.fullSlide&&1===this._slideStatus){var n=this._buttons.findIndex((function(t){var n=t.indexPos,i=t.position;return("last"===n||"first-last"===n)&&(e._translateX>0&&"left"===i||e._translateX<0&&"right"===i)}));H.apply(this,[t,n])}else 0===this._translateX||p(this._startPoint,t.point)<3||this._translateX<0&&(t.point[0]-this._startPoint[0]>=0||this._translateX>-this.throttle)||this._translateX>0&&(t.point[0]-this._startPoint[0]<=0||this._translateX<this.throttle)?this.hideButton():this.showButton(this._translateX>0?"left":"right");this._isMoving=!1,this._startTX=0,this._startPoint=[0,0],this._slideAngle=0,this._slideStatus=0,this._timeStamp=0}},A=function(t){0===this._translateX&&this.trigger("press",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},N=function(t){0===this._translateX&&this.trigger("longPress",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},Y=function(t){0===this._translateX&&this.trigger("doublePress",{currentTarget:this.element,timeStamp:Date.now(),sourceEvent:t})},O=function(t){var e=this;if(0!==this._translateX&&this._buttons){for(var n=t.sourceEvent,i=t.currentTarget,s=n instanceof MouseEvent?n.target:n.sourceEvent.target;s!==i&&!s.getAttribute("data-index");)s=s.parentNode;var o=+(s.getAttribute("data-index")||-1);if(o>=0&&this._buttons[o]){var r=this._buttons[o],a=r.element,h=r.indexPos,l=r.icon,u=r.confirm,c=r.slideOut,d=r.data;if(this.fullSlide&&("last"===h||"first-last"===h))return void H.apply(this,[t,o,s]);var p="buttonPress";this._confirmIndex===o?c?this.hideButton():(L.apply(this,[o,!1]),this._confirmIndex=-1):-1===this._confirmIndex?u?(this._confirmIndex=o,this.rebounce&&!l&&"first"!==h?(P(a,(function(){e._confirmIndex===o&&L.apply(e,[o,!0])})),L.apply(this,[o,!0,q.REBOUNCE_SIZE])):L.apply(this,[o,!0]),p="buttonConfirm"):c&&this.hideButton():p=null,p&&this.trigger(p,{index:o,data:d,currentTarget:s,timeStamp:Date.now(),sourceEvent:t})}}},H=function(t,e,n){if(0!==this._translateX&&this._buttons&&this._buttons[e]){var i=this._buttons[e],s=i.element,o=i.confirm,r=i.icon,a=i.position,h=i.slideOut,l=i.data,u="buttonPress";if(this._confirmIndex===e)h?this.hideButton():(o&&C(s.firstChild,!0,r,a,o),this._confirmIndex=-1);else if(-1===this._confirmIndex){var c=(this._translateX>0?1:-1)*this.element.getBoundingClientRect().width;this._translateX=c,k.apply(this,[c,1]),o?(C(s.firstChild,!0,r,a,o),this._confirmIndex=e,u="buttonConfirm"):h&&this.hideButton()}else u=null;u&&this.trigger(u,{index:e,data:l,currentTarget:n||s,timeStamp:Date.now(),sourceEvent:t})}},q=function(t){(0,a.Z)(p,t);var e,n,d=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,l.Z)(e);if(n){var s=(0,l.Z)(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return(0,h.Z)(this,t)});function p(t){var e;(0,i.Z)(this,p),e=d.call(this),(0,u.Z)((0,o.Z)(e),"disable",!1),(0,u.Z)((0,o.Z)(e),"duration",.4),(0,u.Z)((0,o.Z)(e),"throttle",60),(0,u.Z)((0,o.Z)(e),"rebounce",!0),(0,u.Z)((0,o.Z)(e),"fullSlide",!1),(0,u.Z)((0,o.Z)(e),"_shown","none"),(0,u.Z)((0,o.Z)(e),"_destory",!1),(0,u.Z)((0,o.Z)(e),"_confirmIndex",-1),(0,u.Z)((0,o.Z)(e),"_translateX",0),(0,u.Z)((0,o.Z)(e),"_slideAngle",0),(0,u.Z)((0,o.Z)(e),"_slideStatus",0),(0,u.Z)((0,o.Z)(e),"_slideRange",null),(0,u.Z)((0,o.Z)(e),"_startPoint",null),(0,u.Z)((0,o.Z)(e),"_startTX",0),(0,u.Z)((0,o.Z)(e),"_timeStamp",0),(0,u.Z)((0,o.Z)(e),"_isMoving",!1),(0,u.Z)((0,o.Z)(e),"_buttons",null),(0,u.Z)((0,o.Z)(e),"_agents",null);var n=t.container,s=t.className,r=t.content,a=t.buttons,h=t.duration,l=t.throttle,c=t.rebounce,m=void 0===c||c,_=t.disable,v=void 0!==_&&_,f=t.fullSlide,g=void 0!==f&&f;return e.element=I(n,s),e._agents=[X(e.element,{start:B.bind((0,o.Z)(e)),move:R.bind((0,o.Z)(e)),end:j.bind((0,o.Z)(e)),press:A.bind((0,o.Z)(e)),longPress:N.bind((0,o.Z)(e)),doublePress:Y.bind((0,o.Z)(e))})],e.setContent(r),e.setButtons(a),e.disable=v||!1,e.duration=(h||400)/1e3,e.throttle=l||40,e.rebounce=m,e.fullSlide=g,e}return(0,s.Z)(p,[{key:"setDisable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.disable=t)}},{key:"setRebounce",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.rebounce=t)}},{key:"setDuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._destory||(this.duration=t/1e3)}},{key:"setThrottle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._destory||(this.throttle=t)}},{key:"setFullSlide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._destory||(this.fullSlide=t)}},{key:"setButtons",value:function(t){var e=this;if(!this._destory){var n=0===this._translateX?null:this._translateX>0?"left":"right";this.hideButton().then((function(){var i=e.element.previousSibling&&e.element.previousSibling.firstChild;i.innerHTML="",e._agents&&!e._agents[1]&&(e._agents[1]=X(i,{press:O.bind(e)}));var s=e.element.nextSibling&&e.element.nextSibling.firstChild;s.innerHTML="",e._agents&&!e._agents[2]&&(e._agents[2]=X(s,{press:O.bind(e)}));var o=0,r=0,a=-1,h=-1,l=-1,u=-1;e._buttons=(t||[]).map((function(t,e){var n=t.className,c=t.icon,d=t.width,p=t.height,m=t.text,_=t.confirm,v=t.color,T=t.background,b=t.position,w=void 0===b?"right":b,y=t.slideOut,Z=void 0===y||y,E=t.data,S=f(document.createElement("div"),"hjs-slideview__btn__wrap ".concat(n||""));S.setAttribute("data-index",String(e));var x=g(f(document.createElement("div"),"hjs-slideview__btn"),{color:v,width:d||"100%",height:p||"100%",margin:"0 ".concat(c?10:16,"px"),justifyContent:c?"center":"left"===w?"flex-end":"flex-start",background:c?T:"transparent",borderRadius:c?p?("string"==typeof p?parseInt(p,10):p)/2:"50%":0}),M=_?{}:void 0;if(c){var D=c.src,X=c.className,P=c.width,I=c.height;M&&_&&(M.ocls=X,M.cls=_.className);var C=null;D?(M&&_&&(M.osrc=D,M.src=_.src),(C=document.createElement("img")).src=D):C=document.createElement("i"),x.appendChild(g(f(C,X||""),{width:P,height:I}))}else{M&&_&&(M.otext=m,M.text=_.text);var L=document.createElement("span");L.innerText=String(m),x.appendChild(L)}S.appendChild(x),"left"===w?i.appendChild(S):s.appendChild(S);var k=S.getBoundingClientRect().width;return g(S,{width:k,background:c?"transparent":T}),"left"===w?(o+=k,-1===a&&(a=e),l=e):(r+=k,-1===h&&(h=e),u=e),{element:S,width:k,position:w,slideOut:Z,icon:!!c,confirm:M,indexPos:"middle",data:E}})),a===l&&-1!==a?e._buttons[a].indexPos="first-last":(-1!==a&&(e._buttons[a].indexPos="first"),-1!==l&&(e._buttons[l].indexPos="last")),h===u&&-1!==h?e._buttons[h].indexPos="first-last":(-1!==h&&(e._buttons[h].indexPos="first"),-1!==u&&(e._buttons[u].indexPos="last")),e._slideRange=[-r,o],n&&e.showButton(n)}))}}},{key:"setContent",value:function(t){if(!this._destory)if("string"!=typeof t||t.match(/^[#|.].+/))try{var e;(e="string"==typeof t?document.querySelector(t):t)&&(this.element.innerHTML="",this.element.appendChild(e))}catch(t){}else this.element.innerHTML=t}},{key:"hideButton",value:function(){var t=this;return new Promise((function(e){!t._destory&&0!==t._translateX&&t._buttons?(t._translateX=0,k.apply(t,[0,0]),P(t.element,(function(){e(),-1!==t._confirmIndex&&(L.apply(t,[t._confirmIndex,!1,0,0]),t._confirmIndex=-1),"none"!==t._shown&&(t.trigger("hide",{shown:"none",currentTarget:t.element,timeStamp:Date.now(),sourceEvent:null}),t._shown="none")}))):e()}))}},{key:"showButton",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";return new Promise((function(n){if(!t._destory&&t._buttons){var i=t._slideRange||[0,0],s=(0,c.Z)(i,2),o=s[0],r=s[1],a=0===o?"left":0===r?"right":e,h="left"===a?r:o;if(t._translateX!==h){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=h+e*("left"===a?1:-1);t._translateX=i,k.apply(t,[i,0]),e||P(t.element,(function(){n(),t._shown!==a&&(t.trigger("show",{shown:a,currentTarget:t.element,timeStamp:Date.now(),sourceEvent:null}),t._shown=a)}))};t.rebounce&&(h>0&&t._translateX<h||h<0&&t._translateX>h)?(P(t.element,(function(){return l()})),l(p.REBOUNCE_SIZE)):l()}else n()}else n()}))}},{key:"toggleButton",value:function(t){if(!this._destory)return 0===this._translateX?this.showButton(t):this.hideButton()}},{key:"destory",value:function(){(0,r.Z)((0,l.Z)(p.prototype),"off",this).call(this),this._agents&&(this._agents.forEach((function(t){return t&&t.destory()})),this._agents=null),this._destory=!0,this._buttons=null,this._slideRange=null,this._startPoint=null;var t=this.element.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}]),p}(d);(0,u.Z)(q,"REBOUNCE_SIZE",12);const F=q}}]);
//# sourceMappingURL=lib.2d15ffc9.js.map