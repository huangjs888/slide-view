(()=>{var t={359:(t,e,n)=>{t.exports=n.p+"delete.1cc2d332png"},50:(t,e,n)=>{t.exports=n.p+"edit.fd19e527png"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},c.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function d(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return!!t&&(navigator.maxTouchPoints||"ontouchstart"in t)}function h(t){return Math.pow(Math.abs(t||1),.6)*(t>0?1:-1)}function f(t,e){t&&"string"==typeof e&&e.split(" ").forEach((function(e){return e&&t.classList.add(e)}))}function v(t,e){if(t)return Object.keys(e).forEach((function(n){if(void 0!==e[n]){var i=-1!==n.indexOf("-")?n:n.replace(/([A-Z])/g,"-$1").toLowerCase(),r="number"==typeof e[n]?"".concat(e[n],"px"):String(e[n]);t.style.setProperty(i,r)}}))}function m(t,e){if(t){var n=function n(i){e(i),t.removeEventListener("oTransitionEnd",n),t.removeEventListener("mozTransitionEnd",n),t.removeEventListener("webkitTransitionEnd",n),t.removeEventListener("transitionend",n)};t.addEventListener("oTransitionEnd",n),t.addEventListener("mozTransitionEnd",n),t.addEventListener("webkitTransitionEnd",n),t.addEventListener("transitionend",n)}}var p="hjs-slide-view-style";function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=function(t,e,n){var i;(i=document.querySelector("#".concat(p)))||((i=document.createElement("style")).id=p,i.appendChild(document.createTextNode("\n.hjs-slide-view {\n  position: relative;\n  overflow: hidden;\n}\n.hjs-slideview__left {\n  width: 100%;\n  position: relative;\n  z-index: 10;\n}\n.hjs-slideview__right {\n  position: absolute;\n  left: 100%;\n  top: 0;\n  height: 100%;\n}\n.hjs-slideview__buttons {\n  width: 100%;\n  height: 100%;\n}\n.hjs-slideview__btn__wrap {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  text-align: center;\n  min-width: 68px;\n  height: 100%;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hjs-slideview__btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n")),(document.head||document.getElementsByTagName("head")[0]).appendChild(i));var r=document.createElement("div");f(r,"hjs-slide-view ".concat(n||""));var o=document.createElement("div");f(o,"hjs-slideview__left");var s=function(t){return e("click",t)};o.addEventListener("click",s);var a=document.createElement("div");f(a,"hjs-slideview__right");var c=document.createElement("div");f(c,"hjs-slideview__buttons");var u=function(t){return e("button-click",t)};return c.addEventListener("click",u),a.appendChild(c),r.appendChild(o),r.appendChild(a),t.innerHTML="",t.appendChild(r),{element:o,destory:function(){o.removeEventListener("click",s),c.removeEventListener("click",u),t.innerHTML=""}}},E=function(t){this.buttons.length&&!this.disable&&(this.isMoving=!0,this.startX=t.point[0],this.startY=t.point[1],this.slideAngle=0)},w=function(t){if(this.buttons.length&&!this.disable&&this.isMoving){var e=t.point[0]-this.startX,n=t.point[1]-this.startY;if(0===this.slideAngle&&(this.slideAngle=Math.abs(e)-Math.abs(n)),!(this.slideAngle<0)){var i,r=0;if(this.slideOut){e<0?i=this.rebounce?h(e):0:e<=this.maxWidth?i=e:(this.startX=t.point[0],this.startY=t.point[1],this.slideOut=!1,i=this.maxWidth),this.slideVector=-this.maxWidth+i,v(this.element,{transform:"translateX(".concat(-this.maxWidth+i,"px)"),transition:""}),r=0;for(var o=this.buttons.length-1;o>=0;o--){var s=this.buttons[o].width/this.maxWidth*i,a=-this.buttons[o].maxWidth+s+r;v(this.buttons[o].element,{transform:"translateX(".concat(a,"px)"),transition:""}),r+=s}return!1}e>0?(this.startX=t.point[0],this.startY=t.point[1],i=0):i=e>=-this.maxWidth?e:this.rebounce?h(e+this.maxWidth)-this.maxWidth:-this.maxWidth,this.slideVector=i,v(this.element,{transform:"translateX(".concat(i,"px)"),transition:""}),r=0;for(var c=this.buttons.length-1;c>=0;c--){var u=this.buttons[c].width/this.maxWidth*i,d=u+r;v(this.buttons[c].element,{transform:"translateX(".concat(d,"px)"),transition:""}),r+=u}return!1}}},x=function(t){!this.buttons.length||this.disable||!this.isMoving||this.slideAngle<0||(this.isMoving=!1,this.slideAngle=0,t.point[0]-this.startX>0||Math.abs(t.point[0]-this.startX)<this.throttle?this.hideButton():this.showButton())},k=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(p,n);var i,r,h=(i=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=a(i);if(r){var o=a(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}(this,t)});function p(e){var n;t(this,p),d(s(n=h.call(this)),"maxWidth",0),d(s(n),"buttons",[]),d(s(n),"disable",!1),d(s(n),"duration",.4),d(s(n),"throttle",60),d(s(n),"rebounce",!0),d(s(n),"slideOut",!1),d(s(n),"slideVector",0),d(s(n),"slideAngle",0),d(s(n),"isMoving",!1),d(s(n),"startX",0),d(s(n),"startY",0),d(s(n),"gesture",null),d(s(n),"builder",null);var i,r=e.container,o=e.className,a=e.content,c=e.buttons,u=e.disable,f=e.duration,v=e.throttle,m=e.rebounce,b=void 0===m||m;if(!((i="string"==typeof r?document.querySelector(r):r)&&i instanceof HTMLElement))throw new Error("Please pass a container element...");return n.builder=y(i,(function(t,e){var i=e.currentTarget,r=1,o={type:t,target:i,sourceEvent:e};if("button-click"===t){var s;for(i=e.target;i!==e.currentTarget&&!i.getAttribute("data-index");)i=i.parentNode;r=+(i.getAttribute("data-index")||-1),o=g(g({},o),{},{target:i,index:r,data:null===(s=n.buttons[r])||void 0===s?void 0:s.data})}r>=0&&(n.events[t]||[]).forEach((function(t){return t(o)}))}),o),n.element=n.builder.element,n.setContent(a),n.setButtons(c),n.gesture=function(t,e){if(!(t&&t instanceof HTMLElement))throw new Error("Binding events require HTMLElement...");var n=e||{},i=function(e){return function(t,e,n){if(e.stopImmediatePropagation(),!t.getAttribute("data-touch-identifier")){var i=e.touches.item(0);i&&(t.setAttribute("data-touch-identifier",i.identifier.toString()),n.start&&n.start({type:"touch",point:[i.pageX,i.pageY],sourceEvent:e}))}}(t,e,n)},r=function(e){return function(t,e,n){e.preventDefault(),e.stopImmediatePropagation();for(var i=null,r=0;r<e.changedTouches.length;r++){var o=e.changedTouches.item(r);if(o&&o.identifier===+(t.getAttribute("data-touch-identifier")||-1)){i=o;break}}i&&n.move&&n.move({type:"touch",point:[i.pageX,i.pageY],sourceEvent:e})}(t,e,n)},o=function(e){return function(t,e,n){e.stopImmediatePropagation();for(var i=null,r=0;r<e.changedTouches.length;r++){var o=e.changedTouches.item(r);if(o&&o.identifier===+(t.getAttribute("data-touch-identifier")||-1)){i=o;break}}if(i&&(n.end&&n.end({type:"touch",point:[i.pageX,i.pageY],sourceEvent:e}),t.setAttribute("data-touch-identifier",""),e.touches.length)){var s=e.touches.item(0);if(!s)return;t.setAttribute("data-touch-identifier",s.identifier.toString()),n.start&&n.start({type:"touch",point:[s.pageX,s.pageY],sourceEvent:e})}}(t,e,n)},s=function(t){return function(t,e,n){e.stopImmediatePropagation(),document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function t(e){e.stopImmediatePropagation(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t),"onselectstart"in document&&(document.removeEventListener("dragstart",o),document.removeEventListener("selectstart",o)),n.end&&n.end({type:"mouse",point:[e.pageX,e.pageY],sourceEvent:e})})),"onselectstart"in document&&(document.addEventListener("dragstart",o,{capture:!0,passive:!1}),document.addEventListener("selectstart",o,{capture:!0,passive:!1}));var i=e.clientX,r=e.clientY;function o(t){t.preventDefault(),t.stopImmediatePropagation()}function s(t){t.preventDefault(),t.stopImmediatePropagation();var e=t.clientX-i,o=t.clientY-r;e*e+o*o<3||n.move&&n.move({type:"mouse",point:[t.pageX,t.pageY],sourceEvent:t})}n.start&&n.start({type:"mouse",point:[e.pageX,e.pageY],sourceEvent:e})}(0,t,n)};return l(t)?(t.addEventListener("touchstart",i),t.addEventListener("touchmove",r),t.addEventListener("touchend",o),t.addEventListener("touchcancel",o)):t.addEventListener("mousedown",s),{element:t,handler:n,destory:function(){l(t)?(t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",r),t.removeEventListener("touchend",o),t.removeEventListener("touchcancel",o)):t.removeEventListener("mousedown",s)}}}(n.element,{start:E.bind(s(n)),move:w.bind(s(n)),end:x.bind(s(n))}),n.disable=u||!1,n.duration=(f||400)/1e3,n.throttle=v||40,n.rebounce=b,n}return o(p,[{key:"setDisable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.disable=t}},{key:"setRebounce",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.rebounce=t}},{key:"setDuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.duration=t/1e3}},{key:"setThrottle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.throttle=t}},{key:"setButtons",value:function(t){var e;this.hideButton();var n=null===(e=this.element.nextSibling)||void 0===e?void 0:e.firstChild;n.innerHTML="";var i,r=0;i=(t||[]).map((function(t,e){var i=t.className,r=t.icon,o=t.width,s=t.height,a=t.text,c=t.color,u=t.background,d=t.data,l=document.createElement("div");f(l,"hjs-slideview__btn__wrap ".concat(i||"")),l.setAttribute("data-index",String(e));var h=document.createElement("div");if(f(h,"hjs-slideview__btn"),v(h,{color:c,background:u,width:o||"100%",height:s||"100%",padding:r?0:"0px 46px 0 16px",borderRadius:r?"50%":0}),r){var m=r.src,p=r.className,b=r.width,g=r.height;if(m){var y=document.createElement("img");y.src=m,"string"==typeof b?y.width=parseInt(b,10):"number"==typeof b&&(y.width=b),"string"==typeof g?y.height=parseInt(g,10):"number"==typeof g&&(y.height=g),f(y,p||""),h.appendChild(y)}else{var E=document.createElement("i");v(E,{width:o,height:s}),f(E,p||""),h.appendChild(E)}}else{var w=document.createElement("span");w.innerText=String(a),h.appendChild(w)}return l.appendChild(h),n.appendChild(l),{delt:r?0:-30,element:l,data:d}})).reverse().map((function(t){var e=t.delt,n=t.element,i=t.data,o=n.getBoundingClientRect().width+e;return{element:n,width:o,maxWidth:r+=o,data:i}})).reverse(),this.maxWidth=r,this.buttons=i}},{key:"setContent",value:function(t){var e;(e="string"==typeof t?document.querySelector(t):t)&&(this.element.innerHTML="",this.element.appendChild(e))}},{key:"showButton",value:function(){var t=this;if(this.buttons.length){this.slideOut||m(this.element,(function(e){(t.events.show||[]).forEach((function(n){return n({type:"show",target:t.element,sourceEvent:e})}))})),this.slideOut=!0;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.slideVector=-t.maxWidth-e,v(t.element,{transform:"translate3d(".concat(-t.maxWidth-e,"px, 0, 0)"),transition:"transform ".concat(t.duration,"s")});for(var n=0,i=t.buttons.length-1;i>=0;i--){var r=-t.buttons[i].width/t.maxWidth*(t.maxWidth+e),o=r+n;v(t.buttons[i].element,{transform:"translate3d(".concat(o,"px, 0, 0)"),transition:"transform ".concat(t.duration,"s")}),n+=r}};this.rebounce&&Math.abs(this.slideVector)<this.maxWidth?(e(p.REBOUNCE_SIZE),m(this.element,(function(){return e()}))):e()}}},{key:"hideButton",value:function(){var t=this;if(this.buttons.length){this.slideOut&&m(this.element,(function(e){(t.events.hide||[]).forEach((function(n){return n({type:"hide",target:t.element,sourceEvent:e})}))})),this.slideOut=!1,this.slideVector=0,v(this.element,{transform:"translate3d(0, 0, 0)",transition:"transform ".concat(this.duration,"s")});for(var e=this.buttons.length-1;e>=0;e--)v(this.buttons[e].element,{transform:"translate3d(0, 0, 0)",transition:"transform ".concat(this.duration,"s")})}}},{key:"toggleButton",value:function(){this.slideOut?this.hideButton():this.showButton()}},{key:"destory",value:function(){var t,e;c(a(p.prototype),"off",this).call(this),null===(t=this.gesture)||void 0===t||t.destory(),null===(e=this.builder)||void 0===e||e.destory()}}]),p}(function(){function e(){t(this,e),d(this,"events",{}),this.events={}}return o(e,[{key:"once",value:function(t,e){var n=this;this.on(t,(function i(r){e(r),n.off(t,i)}))}},{key:"on",value:function(t,e){var n=this.events[t]||[];n.push(e),this.events[t]=n}},{key:"off",value:function(t,e){if(t)if(e){var n=this.events[t]||[],i=n.findIndex((function(t){return t===e}));-1!==i&&n.splice(i,1),this.events[t]=n}else this.events[t]=[];else this.events={}}}]),e}());d(k,"REBOUNCE_SIZE",12);const L=k;var O=document.querySelectorAll(".slide-view-item"),j=document.createElement("div");j.classList.add("slide-view-cell");var T=document.createElement("span");T.innerText="左滑菜单（text）",j.appendChild(T);var S=new L({container:O[0],className:"AAA",content:j,buttons:[{className:"bbb",text:"标记为已读",color:"#fff",background:"#3D83E5",data:{id:1}},{text:"不显示",color:"#fff",background:"#EEA151",data:{id:2}},{className:"ccc",text:"删除",color:"#fff",background:"#E75E58",data:{id:3}}]}),_=document.createElement("div");_.classList.add("slide-view-cell");var P=document.createElement("span");P.innerText="左滑菜单（image）",_.appendChild(P);var B=new L({container:O[1],className:"BBB",content:_,buttons:[{icon:{src:n(50),className:"f f-ta",width:24,height:24},width:48,height:48,color:"red",background:"#fff",data:{id:4}},{icon:{src:n(359),className:"f f-ba",width:24,height:24},width:48,height:48,color:"black",background:"#fff",data:{id:5}}]}),C=document.querySelector("#show");C&&C.addEventListener("click",(function(){return S.showButton()}));var A=document.querySelector("#hide");A&&A.addEventListener("click",(function(){return S.hideButton()}));var X=document.querySelector("#toggle");X&&X.addEventListener("click",(function(){return B.toggleButton()}));var D=document.querySelector("#setDisable");D&&D.addEventListener("click",(function(){S.setDisable(!S.disable),B.setDisable(!B.disable)}));var N=document.querySelector("#setRebounce");N&&N.addEventListener("click",(function(){S.setRebounce(!S.rebounce),B.setRebounce(!B.rebounce)}));var W=document.querySelector("#setThrottle");W&&W.addEventListener("click",(function(){S.setThrottle(S.throttle+10),B.setThrottle(B.throttle-10)}));var M=document.querySelector("#setDuration");M&&M.addEventListener("click",(function(){S.setDuration(1e3*S.duration+100),B.setDuration(1e3*B.duration-100)}));var R=document.querySelector("#setContent");R&&R.addEventListener("click",(function(){var t=document.createElement("div");t.classList.add("slide-view-cell");var e=document.createElement("span");e.innerText="左滑菜单（image）",t.appendChild(e),S.setContent(t);var n=document.createElement("div");n.classList.add("slide-view-cell");var i=document.createElement("span");i.innerText="左滑菜单（text）",n.appendChild(i),B.setContent(n)}));var q=document.querySelector("#setButtons");q&&q.addEventListener("click",(function(){S.setButtons([{icon:{src:n(50),className:"f f-ta",width:24,height:24},width:48,height:48,color:"red",background:"#fff",data:{id:4}},{icon:{src:n(359),className:"f f-ba",width:24,height:24},width:48,height:48,color:"black",background:"#fff",data:{id:5}}]),B.setButtons([{className:"bbb",text:"标记为已读",color:"#fff",background:"#3D83E5",data:{id:1}},{text:"不显示",color:"#fff",background:"#EEA151",data:{id:2}},{className:"ccc",text:"删除",color:"#fff",background:"#E75E58",data:{id:3}}])}));var Y=document.querySelector("#destory");Y&&Y.addEventListener("click",(function(){S.destory(),B.destory()})),S.on("show",(function(t){return console.log("item-show",t)})),S.on("hide",(function(t){return console.log("item-hide",t)})),S.on("click",(function(t){return console.log("item-click",t)})),S.on("button-click",(function(t){return console.log("item-button-click",t)})),B.on("show",(function(t){return console.log("item2-show",t)})),B.on("hide",(function(t){return console.log("item2-hide",t)})),B.on("click",(function(t){return console.log("item2-click",t)})),B.on("button-click",(function(t){return console.log("item2-button-click",t)}))})()})();
//# sourceMappingURL=index.704c0846.js.map